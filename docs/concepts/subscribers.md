<div align="center">
    <img width="128" src="https://raw.githubusercontent.com/contexted-js/brand/master/dark/main.svg">
    <br />
    <br />
    <h1>
		<a href="https://github.com/contexted-js/core">
        	@Contexted/Core
    	</a>
		<span>Documentations</span>
	</h1>
</div>

<img alt="GitHub package.json version" src="https://img.shields.io/github/package-json/v/contexted-js/core">

---

[**Documentation**](../../) > [**Concepts**](../) > **Subscribers**

---

## Explain

## Subscriber

When it comes to registering a route, passing a test case and triggering the middlewares, you can think of unlimited strategies, From using different methods, to writing in different programming languages. A **Subscriber** is a function that registers a handler function (which will be generated by Contexted) to a test case, and returns an unsubscribe function for that route, and helps you to trigger Contexted with any strategy you want:

```ts
type UnsubscribeFunction = () => boolean | Promise<boolean>;

type Subscriber<Test, Request, Response> = (
	test: Test,
	handler: (request: Request) => Response | Promise<Response>
) => UnsubscribeFunction;
```

## Examples

This subscriber will subscribe your route to a a very simple event emitter.

```ts
const routes = {};

function subscriberFunction: Subscriber<string, string, string>(test, handler) {
	if (routes[test]) return null;
	routes[test] = handler;
	return () => delete routes[test];
}

async function emit(route, data) {
	for (const [test, handler] of Object.entries(routes))
		if (route === test) return await handler(data);
}
```
